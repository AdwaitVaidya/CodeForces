{"title":{"en":"E. Misha and Paintings","ru":"E. Миша и раскраски"},"contestId":"1720","problemIndex":"E","timeLimit":{"en":"3.5 seconds","ru":"3.5 секунд"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>Misha has a <span class=\"tex-font-style-bf\">square</span> $$$n \\times n$$$ matrix, where the number in row $$$i$$$ and column $$$j$$$ is equal to $$$a_{i, j}$$$. Misha wants to modify the matrix to contain <span class=\"tex-font-style-bf\">exactly</span> $$$k$$$ distinct integers. To achieve this goal, Misha can perform the following operation zero or more times:</p><ol> <li> choose any <span class=\"tex-font-style-bf\">square</span> submatrix of the matrix (you choose $$$(x_1,y_1)$$$, $$$(x_2,y_2)$$$, such that $$$x_1 \\leq x_2$$$, $$$y_1 \\leq y_2$$$, $$$x_2 - x_1 = y_2 - y_1$$$, then submatrix is a set of cells with coordinates $$$(x, y)$$$, such that $$$x_1 \\leq x \\leq x_2$$$, $$$y_1 \\leq y \\leq y_2$$$), </li><li> choose an integer $$$k$$$, where $$$1 \\leq k \\leq n^2$$$, </li><li> replace all integers in the submatrix with $$$k$$$. </li></ol><p>Please find the minimum number of operations that Misha needs to achieve his goal.</p>","ru":"<p>Недавно Миша нашел <span class=\"tex-font-style-bf\">квадратную</span> матрицу $$$n \\times n$$$, где в клетке на пересечении строки $$$i$$$ и столбца $$$j$$$ записано число $$$a_{i, j}$$$. После этого Миша решил немного изменить матрицу, чтобы количество различных чисел в ней стало <span class=\"tex-font-style-bf\">ровно</span> $$$k$$$. Для этого он может любое число раз (возможно, ноль) применить следующую операцию:</p><ol> <li> выбрать любую <span class=\"tex-font-style-bf\">квадратную</span> подматрицу (выбираются $$$(x_1,y_1)$$$, $$$(x_2,y_2)$$$, такие что $$$x_1 \\leq x_2$$$, $$$y_1 \\leq y_2$$$, $$$x_2 - x_1 = y_2 - y_1$$$, тогда подматрицей называется множество клеток с координатами $$$(x, y)$$$, такими что $$$x_1 \\leq x \\leq x_2$$$, $$$y_1 \\leq y \\leq y_2$$$), </li><li> выбрать число $$$k$$$, где $$$1 \\leq k \\leq n^2$$$, </li><li> заменить все числа в выбранной подматрице на $$$k$$$. </li></ol><p>Пожалуйста, найдите минимальное количество операций, которые нужны, чтобы Миша достиг своей цели.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first input line contains two integers $$$n$$$ and $$$k$$$ ($$$1 \\leq n \\leq 500, 1 \\leq k \\leq n^2$$$) &nbsp;— the size of the matrix and the desired amount of distinct elements in the matrix.</p><p>Then $$$n$$$ lines follows. The $$$i$$$-th of them contains $$$n$$$ integers $$$a_{i, 1}, a_{i, 2}, \\ldots, a_{i, n}$$$ ($$$1 \\leq a_{i,j} \\leq n^2$$$) — the elements of the $$$i$$$-th row of the matrix.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>В первой строке находятся числа $$$n$$$ и $$$k$$$ ($$$1 \\leq n \\leq 500, 1 \\leq k \\leq n^2$$$)— размер матрицы и требуемое количество различных чисел .</p><p>Далее следуют $$$n$$$ строк. $$$i$$$-я из них содержит $$$n$$$ целых чисел $$$a_{i, 1}, a_{i, 2}, \\ldots, a_{i, n}$$$ ($$$1 \\leq a_{i,j} \\leq n^2$$$) — элементы $$$i$$$-й строки матрицы.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>Output one integer — the minimum number of operations required.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Выведите одно число — искомое минимальное число операций.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>In the first test case the answer is $$$1$$$, because one can change the value in the bottom right corner of the matrix to $$$1$$$. The resulting matrix can be found below:</p><center> <table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-top\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-top\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top\">1</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center\">1</td><td class=\"tex-tabular-text-align-center\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right\">2</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-bottom\">3</td><td class=\"tex-tabular-text-align-center tex-tabular-border-bottom\">4</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-bottom\">1</td></tr></tbody></table> </center><p>In the second test case the answer is $$$2$$$. First, one can change the entire matrix to contain only $$$1$$$s, and the change the value of any single cell to $$$2$$$. One of the possible resulting matrices is displayed below:</p><center> <table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-top\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-top\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top\">1</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center\">1</td><td class=\"tex-tabular-text-align-center\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right\">1</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-bottom\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-bottom\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-bottom\">2</td></tr></tbody></table> </center>","ru":"<div class=\"section-title\">Примечание</div><p>В первом примере ответ $$$1$$$, так как можно заменить число в правом нижнем углу таблички на $$$1$$$. Получится такая матрица:</p><center> <table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-top\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-top\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top\">1</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center\">1</td><td class=\"tex-tabular-text-align-center\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right\">2</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-bottom\">3</td><td class=\"tex-tabular-text-align-center tex-tabular-border-bottom\">4</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-bottom\">1</td></tr></tbody></table> </center><p>Во втором примере ответ $$$2$$$. Можно сначала заменить все значения матрицы на $$$1$$$, а потом заменить число в любой клетке на $$$2$$$. Получится такая матрица:</p><center> <table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-top\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-top\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top\">1</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center\">1</td><td class=\"tex-tabular-text-align-center\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right\">1</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-bottom\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-bottom\">1</td><td class=\"tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-bottom\">2</td></tr></tbody></table> </center>"},"sampleTestcases":[{"id":1661476066212,"input":"3 4\n1 1 1\n1 1 2\n3 4 5\n","output":"1","result":{"id":1661476066212,"stdout":"","stderr":"","exitcode":0,"signal":null,"time":2,"timeout":false}},{"id":1661476066213,"input":"3 2\n2 1 3\n2 1 1\n3 1 2\n","output":"2"},{"id":1661476066214,"input":"3 3\n1 1 1\n1 1 2\n2 2 2\n","output":"1"},{"id":1661476066215,"input":"3 2\n1 1 1\n1 2 1\n2 2 2\n","output":"0"}],"submitUrl":"https://codeforces.com/problemset/submit","language":"c++"}